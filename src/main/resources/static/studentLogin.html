<!doctype html>
<html class="no-js" lang="">
<head>
  <title>Meet Your Mentor</title>
  <link rel="stylesheet" href="css/materialize.min.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
<div class="container">
  <div class="row">
    <div class="col s6 ">
      <img class="responsive-img" img src="img/web-design.png"  style= "float: left; margin:0 auto; width:500px;">
    </div>
    <div class="col s6"  style="margin-top:45px ">
      <h3 class="head">Meet Your Mentor</h3>
      <p class="para"> Get Help To Solve <br/> Your Questions </p>
      <div class="row">
        <div class="col s12">
          <div class="row">
            <div class="input-field col s12">
              <i class="material-icons prefix">markunread</i>
              <input id="username" type="email" class="validate" placeholder="Username / Index Number">
            </div>
          </div>
          <div class="row">
            <div class="col s12">
              <div class="row">
                <div class="input-field col s12">
                  <i class="material-icons prefix">lock</i>
                  <input id="password" type="password" class="validate" placeholder="Password">
                </div>
              </div>
          <button class="btn waves-effect waves-light col s12" id="loginbtn" style="width: 110px; height: 40px; float: right">Submit
            <i class="material-icons right">send</i>
          </button>
        </div>
            <div class="row">
              <div class="col s12" id="errorPanel" >
                <div class="card-panel red">
                  <span class="white-text" id="errorText" ></span>
                </div>
              </div>
            </div>
    </div>
    </div>
  </div>
</div>
    </div>
  </div>
  </div>
</div>
<footer class="page-footer grey darken-3">
    <div class="container center-align" >&copy; 2019 Nishal</div>
  </footer>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script>window.jQuery || document.write('<script src="js/vendor/jquery-3.3.1.min.js"><\/script>')</script>
  <script src="js/materialize.min.js"></script>
</body>
</html>
<script>

  $("#errorPanel").hide();

  $("#loginbtn").click(function(){
   var login={
     "username": $("#username").val(),
     "password": $("#password").val()
   };
    $.ajax({
      'type': 'POST',
      'url': 'http://localhost:8080/student/login',
      'contentType': 'application/json',
      'data': JSON.stringify(login),
      'dataType': 'json',
      'success': function (data) {
        $("#errorPanel").hide();
        if(data==-1){
          $("#errorPanel").show();
          $("#errorText").html("Incorrect Password");
        }
        else{
          location.href="/studentDashboard"
        }
        console.log(data);
      },
      'error': function (data) {
        $("#errorPanel").show();
        $("#errorText").html(data.responseJSON.message);
        console.log(data.responseJSON.message);
      }
    });
  });


</script>
